<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Post</title>
    <link rel="stylesheet" href="css/reset.css"/>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Amatic+SC"/>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Dosis'>
</head>

<body>
<div id="container">
    <div id="header">
        <h1 class="site-title"><a href="/">Nordic</a></h1>
        <h2 class="site-description">BTemplates, the best place for Blogger Templates</h2>
        <div class="menu-navigation">
            <div class="menu-navigation-site">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="https://www.facebook.com/">Facebook</a></li>
                    <li><a href="https://twitter.com/">Twitter</a></li>
                    <li><a href="https://www.youtube.com/">YouTube</a></li>
                </ul>
            </div>
            <div class="menu-navigation-socials">
                <ul>
                    <li><a href="https://vk.com" target="_blank"><img src="images/vk-icon.png" title="VK"></a></li>
                    <li><a href="https://github.com" target="_blank"><img src="images/github-icon.png"
                                                                          title="Github"></a></li>
                </ul>
            </div>
        </div>
    </div>
    <div id="content">
        <div class="post">
            <h1 class="post-header">Demo post with formatted elements and comments.</h1>
            <h3 class="post-description">Written by <span style="font-weight:bold;">BTemplates</span>
                on <span style="font-weight:bold;">11:24 AM</span> in
                <span style="font-weight:bold;">Blogger, Images, Tag</span> with 26 comments</h3>
            <div class="post-content">
                <h3>Модели I/O</h3>
                <br>
                <p>Рассмотрим все модели I/O, доступные в Linux, а также то, с помощью чего они имплементируются.</p>
                <br>
                <h4>Блокирующий синхронный I/O</h4><br>

                <p>Одна из наиболее распространненых моделей I/O.</p>

                <p>Поток блокируется при вызове I/O сисколла в ожидании ответа, т.е. не происходит никакой работы, пока
                    системный вызов I/O (read/write) не будет завершен.</p>

                <p>Такая модель называется синхронной, ведь результат происходит в то же время. Результат никак не
                    ожидается позже, он придет сразу же после вызова функции. Сразу - <strong>не означает
                        немедленно</strong>, это означает то, что результат придет <strong>сразу же, как будет готов
                        ответ</strong>, и работа программы продолжится дальше.</p>

                <p>Полностью понять синхронность можно, если рассмотреть работу со <em>стороны самой программы</em>:</p>

                <p>Что же происходит при вызове API чтения или записи на блокирующем сокете на стороне программы? Да,
                    поток, из которого была вызвана функция, блокируется, однако, со стороны
                    программы это просто выглядит как вызов функции, который занимает долгое время, и после прихода
                    ответа работа продолжается дальше. То есть, можно сказать, что действия произошли
                    синхронно, ответ пришел сразу же после вызова.</p>

                <p><strong>Что нужно для реалзиации данной модели I/O:</strong></p>

                <ul>
                    <li>Блокирующие сокеты</li>
                </ul>
                <br>
                <h4>Неблокирующий синхронный I/O</h4><br>

                <p>В данной модели I/O ответ возвращается <strong>немедленно</strong> после вызова сисколла, и <strong>поток
                    не блокируется</strong>. В зависимости от готовности I/O придет или ошибка, означающая то,
                    что чтение/запись еще не готовы, или же сам результат.</p>

                <p>Такая модель все еще остается синхронной, ведь результат приходит в то же время вызова API, как и в
                    случае с блокирующим синхронным I/O.</p>

                <p>Данная модель менее эффективна, чем блокирующий синхронный I/O, ведь придется опрашивать сокеты
                    постоянно, ожидая видеть там результат и программа будет тратить процессорное
                    время в отличие от блокирующего I/O, где программа просто спала в ожидании результата.
                    Однако, здесь существует и достоинство: мы имеем больше возможностей для дополнительной работы между
                    опросами, ведь поток не блокируется.
                    Конечно, мы могли бы создавать отдельный тред для дополнительной работы в случае с блокирующим I/O,
                    однако тогда появятся расходы на создание тредов и переключение между тредами.</p>

                <p><strong>Что нужно для реалзиации данной модели I/O:</strong></p>

                <ul>
                    <li>Неблокирующие сокеты</li>
                </ul>

                <br><h4>Блокирующий асинхронный I/O</h4><br>

                <p>В данной модели поток блокируется не на самом вызове сисколла чтения/записи, а на вызове блокирующего
                    сисколла мультиплексора (select, poll, epoll_wait).
                    Данный I/O позволяет отслеживать не только один файловый дескриптор, а сразу множество. Например, в
                    non-blocking I/O приходилось проверять все сокеты с цикле, тут же
                    данную работу выполняет ядро, что будет намного эффективнее самостоятельной проверки всех
                    дескрипторов.</p>

                <p>Однако, почему же данная модель называется асинхронной?</p>

                <p>Для начала, <em>асинхронность</em> - буквально означает <strong>не синхронность</strong>.</p>

                <p>Рассмотрим на примере мультиплексора <em>select</em>. Дело в том, что результат получается не сразу
                    же после вызова API, а только после вызова select(). Select дает знать программе, что
                    на определенном декскрипторе есть возможность прочитать/отправить данные, и только после этого
                    программа совершит действия с сокетами, т.е. результат получается не сразу же после
                    вызова системного вызова I/O, а только после вызова select.</p>

                <p>Полностью понять данную модель можно понять исходя из самого определения асинхронности - <em>получаем
                    результат не сразу, оставляя обработку вызова в фоне</em>, и продолжаем работу
                    программы, получая результат фоновой работы позже.
                    <strong>Select</strong> - и есть та фоновая работа, ведь <strong>мы отдаем задачу по определению
                        сокетов мультиплексору</strong>.</p>

                <p><strong>Что нужно для реалзиации данной модели I/O:</strong></p>

                <ul>
                    <li>Блокирующие/неблокирующие сокеты</li>

                    <li>Механизмы мультиплексирования (select, poll. epoll).</li>
                </ul>

                <br><h4>Неблокирующий асинхронный I/O</h4><br>

                <p>В данной модели <strong>поток не блокируется никогда</strong> при вызове сисколла I/O и продолжает
                    свою работу, в то время как работа API будет выполняться в фоне на стороне ядра, и, когда
                    результат будет готов, ядро вернет его.</p>

                <p>Это наиболее эффективная модель. Эффективна она потому, что поток не блокируется и программа может
                    выполнять полезную работу (например, запись каких-то файлов в бд), ожидая
                    ответа.</p>

                <p><strong>Что нужно для реалзиации данной модели I/O:</strong></p>

                <ul>
                    <li>Неблокирующие сокеты</li>

                    <li>Библиотека, предоставляющая возможность асинхронного I/O (такие как <em>
                        <aio.h>
                    </em> (Linux), <em>libevent</em>, <em>libev</em> и другие)
                    </li>
                </ul>
            </div>
            <div class="blog-post-share">
                <span>Share:</span>
                <div class="blog-post-share-socials">
                    <ul>
                        <li><a href="https://vk.com" target="_blank"><img src="images/vk-icon.png" width="18"
                                                                          height="18"
                                                                          title="VK"></a></li>
                        <li><a href="https://facebook.com" target="_blank"><img src="images/facebook-icon.png"
                                                                                width="18" height="18"
                                                                                title="Facebook"></a></li>
                    </ul>
                </div>
            </div>
            <div style="clear: left"></div>
            <h4 style="font-size: 30px">Related Posts:</h4>
            <div class="post-related-posts">
                <div class="post-related-posts-thumbnail">
                    <a target="_blank"
                       href="https://nordic-btemplates.blogspot.com/2016/09/demo-post-with-formatted-elements-and.html">
                        <img src="images/btemplates-aquarium-by-francisco-oliveros.jpg">
                    </a>
                    <div class="post-related-posts-thumbnails-desc">
                        <a target="_blank"
                           href="https://nordic-btemplates.blogspot.com/2016/09/demo-post-with-formatted-elements-and.html">
                            Nordic is the template number 4667 in BTemplates.</a>
                    </div>
                </div>
                <div class="post-related-posts-thumbnail">
                    <a target="_blank"
                       href="https://nordic-btemplates.blogspot.com/2016/09/images-in-this-template.html">
                        <img src="images/btemplates-chichenitza-by-francisco-oliveros.jpg">
                    </a>
                    <div class="post-related-posts-thumbnails-desc">
                        <a target="_blank"
                           href="https://nordic-btemplates.blogspot.com/2016/09/images-in-this-template.html">
                            Images in this template.</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="blog-page-selector">
            <div class="blog-page-selector-older-posts"><a href="#older-posts">Older Posts</a></div>
            <div class="blog-page-selector-home"><a href="#home">Home</a></div>
        </div>
    </div>
    <div id="footer">
        <div class="footer-copyright">
            <p> &copy; 2019</p>
        </div>
    </div>
</div>

</body>
</html>